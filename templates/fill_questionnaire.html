{% extends 'base.html' %}

{% block title %}Fill Questionnaire{% endblock %}

{% block content %}
<h2>Complete the Questionnaire</h2>

{% if message %}
    <p>{{ message }}</p>
{% endif %}

<form method="POST">
    {% csrf_token %}
    
    <h3>Questions:</h3>

    <!-- Dynamically display questionnaire questions -->
    {% for question, label in questionnaire.schema.items %}
        <label for="{{ question }}">{{ label }}</label><br>
        <input type="text" id="{{ question }}" name="{{ question }}" value="{{ questionnaire.saved_data|get:question }}"><br><br>
    {% endfor %}

    <button type="submit" name="save">Save</button>
    <button type="submit" name="submit">Submit</button>
</form>
{% endblock %}
